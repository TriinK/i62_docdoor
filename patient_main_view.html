<!DOCTYPE html>
<html>
  <head>
    <title>Patient main view</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link href="resources/css/jquery-ui-themes.css" type="text/css" rel="stylesheet"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/patient_main_view/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-1.7.1.min.js"></script>
    <script src="resources/scripts/jquery-ui-1.8.10.custom.min.js"></script>
    <script src="resources/scripts/prototypePre.js"></script>
    <script src="data/document.js"></script>
    <script src="resources/scripts/prototypePost.js"></script>
    <script src="files/patient_main_view/data.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
  </head>
  <body>
    <div id="base" class="">

      <!-- Unnamed (Rectangle) -->
      <div id="u17" class="ax_default disabled">
        <div id="u17_div" class="disabled"></div>
      </div>

      <!-- Unnamed (Image) -->
      <div id="u18" class="ax_default image">
        <img id="u18_img" class="img " src="images/docdoor/u1.jpg"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u19" class="ax_default heading_3">
        <div id="u19_div" class=""></div>
        <div id="u19_text" class="text ">
          <p><span>appointment scanner</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u20" class="ax_default heading_3">
        <div id="u20_div" class=""></div>
        <div id="u20_text" class="text ">
          <p><span>help</span></p>
        </div>
      </div>

      <!-- Unnamed (Droplist) -->
      <div id="u21" class="ax_default droplist">
        <select id="u21_input">
          <option selected value="EE">EE</option>
          <option value="EN">EN</option>
          <option value="RU">RU</option>
        </select>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u22" class="ax_default box_3">
        <div id="u22_div" class=""></div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u23" class="ax_default heading_2">
        <div id="u23_div" class=""></div>
        <div id="u23_text" class="text ">
          <p><span>Günekoloogia</span></p>
        </div>
      </div>

      <!-- Serch märgi taust (Rectangle) -->
      <div id="u24" class="ax_default box_1" data-label="Serch märgi taust">
        <div id="u24_div" class=""></div>
      </div>

      <!-- Unnamed (Shape) -->
      <div id="u25" class="ax_default icon">
        <img id="u25_img" class="img " src="images/patient_main_view/u25.png"/>
      </div>

      <!-- Unnamed (Shape) -->
      <div id="u26" class="ax_default flow_shape">
        <img id="u26_img" class="img " src="images/patient_main_view/u26.png"/>
      </div>

      <!-- Unnamed (Shape) -->
      <div id="u27" class="ax_default flow_shape">
        <img id="u27_img" class="img " src="images/patient_main_view/u27.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u28" class="ax_default heading_2">
        <div id="u28_div" class=""></div>
        <div id="u28_text" class="text ">
          <p><span>K 21. Jan</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u29" class="ax_default clock-box">
        <div id="u29_div" class=""></div>
        <div id="u29_text" class="text ">
          <p><span>Teata uuest ajast</span></p>
        </div>
      </div>

      <!-- Unnamed (Shape) -->
      <div id="u30" class="ax_default icon">
        <img id="u30_img" class="img " src="images/patient_main_view/u30.png"/>
      </div>

      <!-- Unnamed (Radio Button) -->
      <div id="u31" class="ax_default radio_button">
        <label for="u31_input" style="position: absolute; left: 0px;">
          <div id="u31_text" class="text ">
            <p><span>Tasulised</span></p>
          </div>
        </label>
        <input id="u31_input" type="radio" value="radio" name="u31"/>
      </div>

      <!-- Unnamed (Radio Button) -->
      <div id="u32" class="ax_default radio_button">
        <label for="u32_input" style="position: absolute; left: 0px;">
          <div id="u32_text" class="text ">
            <p><span>Tasuta</span></p>
          </div>
        </label>
        <input id="u32_input" type="radio" value="radio" name="u32"/>
      </div>

      <!-- Unnamed (Radio Button) -->
      <div id="u33" class="ax_default radio_button">
        <label for="u33_input" style="position: absolute; left: 0px;">
          <div id="u33_text" class="text ">
            <p><span>Saatekirjaga</span></p>
          </div>
        </label>
        <input id="u33_input" type="radio" value="radio" name="u33"/>
      </div>

      <!-- Unnamed (Droplist) -->
      <div id="u34" class="ax_default droplist">
        <select id="u34_input">
          <option selected value="   Odavamad enne">&nbsp;&nbsp; Odavamad enne</option>
          <option value="   Kallimad enne">&nbsp;&nbsp; Kallimad enne</option>
        </select>
      </div>

      <!-- Unnamed (Droplist) -->
      <div id="u35" class="ax_default droplist">
        <select id="u35_input">
          <option value="    Tallinn">&nbsp;&nbsp;&nbsp; Tallinn</option>
          <option value="    Tartu">&nbsp;&nbsp;&nbsp; Tartu</option>
          <option selected value="    Kõik asukohad">&nbsp;&nbsp;&nbsp; Kõik asukohad</option>
        </select>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u36" class="ax_default heading_2">
        <div id="u36_div" class=""></div>
        <div id="u36_text" class="text ">
          <p><span>Sorteeri</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u37" class="ax_default heading_2">
        <div id="u37_div" class=""></div>
        <div id="u37_text" class="text ">
          <p><span>Asukoht</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u38" class="ax_default heading_2">
        <div id="u38_div" class=""></div>
        <div id="u38_text" class="text ">
          <p><span>2 resultaati Odavamad enne</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u39" class="ax_default box_2">
        <div id="u39_div" class=""></div>
      </div>

      <!-- Unnamed (Vertical Line) -->
      <div id="u40" class="ax_default line">
        <img id="u40_img" class="img " src="images/patient_main_view/u40.png"/>
      </div>

      <!-- Unnamed (Vertical Line) -->
      <div id="u41" class="ax_default line">
        <img id="u41_img" class="img " src="images/patient_main_view/u40.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u42" class="ax_default best">
        <div id="u42_div" class=""></div>
        <div id="u42_text" class="text ">
          <p><span>Parim</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u43" class="ax_default date">
        <div id="u43_div" class=""></div>
        <div id="u43_text" class="text ">
          <p><span>T 02. Sept</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u44" class="ax_default keskmine">
        <div id="u44_div" class=""></div>
        <div id="u44_text" class="text ">
          <p><span>Odavaim</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u45" class="ax_default keskmine">
        <div id="u45_div" class=""></div>
        <div id="u45_text" class="text ">
          <p><span>K 21. Sept</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u46" class="ax_default best">
        <div id="u46_div" class=""></div>
        <div id="u46_text" class="text ">
          <p><span>Kiireim</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u47" class="ax_default date">
        <div id="u47_div" class=""></div>
        <div id="u47_text" class="text ">
          <p><span>K 21. Aug</span></p>
        </div>
      </div>

      <!-- Unnamed (Horizontal Line) -->
      <div id="u48" class="ax_default bottom_line">
        <img id="u48_img" class="img " src="images/patient_main_view/u48.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u49" class="ax_default box_2">
        <div id="u49_div" class=""></div>
      </div>

      <!-- Unnamed (Vertical Line) -->
      <div id="u50" class="ax_default line">
        <img id="u50_img" class="img " src="images/patient_main_view/u40.png"/>
      </div>

      <!-- Unnamed (Vertical Line) -->
      <div id="u51" class="ax_default line">
        <img id="u51_img" class="img " src="images/patient_main_view/u40.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u52" class="ax_default middle_section">
        <div id="u52_div" class=""></div>
        <div id="u52_text" class="text ">
          <p><span>PERH</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u53" class="ax_default middle_section">
        <div id="u53_div" class=""></div>
        <div id="u53_text" class="text ">
          <p><span>Dr Marge Reek</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u54" class="ax_default best">
        <div id="u54_div" class=""></div>
        <div id="u54_text" class="text ">
          <p><span>K 21. Sept</span></p>
        </div>
      </div>

      <!-- Unnamed (Vertical Line) -->
      <div id="u55" class="ax_default line">
        <img id="u55_img" class="img " src="images/patient_main_view/u40.png"/>
      </div>

      <!-- Unnamed (Vertical Line) -->
      <div id="u56" class="ax_default line">
        <img id="u56_img" class="img " src="images/patient_main_view/u40.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u57" class="ax_default heading_1">
        <div id="u57_div" class=""></div>
        <div id="u57_text" class="text ">
          <p><span>14.15</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u58" class="ax_default heading_1">
        <div id="u58_div" class=""></div>
        <div id="u58_text" class="text ">
          <p><span>50 </span></p>
        </div>
      </div>

      <!-- Unnamed (Shape) -->
      <div id="u59" class="ax_default euro-sign">
        <img id="u59_img" class="img " src="images/patient_main_view/u59.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u60" class="ax_default button">
        <div id="u60_div" class=""></div>
        <div id="u60_text" class="text ">
          <p><span>&nbsp;&nbsp;&nbsp; VALI</span></p>
        </div>
      </div>

      <!--This is were list is produced-->
      <div id="u62" class="ax_default box_2">
        <table id="u62_div" class="">
          <thead>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          </thead>
          <tbody id="appointment_list"></tbody>
        </table>
      </div>

      <!-- Unnamed (Vertical Line)
      <div id="u63" class="ax_default line">
        <img id="u63_img" class="img " src="images/patient_main_view/u40.png"/>
      </div>-->

      <!-- Unnamed (Rectangle)
      <div id="u64" class="ax_default best">
        <div id="u64_div" class=""></div>
        <div id="u64_text" class="text ">
          <p><span>K 21. Sept</span></p>
        </div>
      </div> -->

      <!-- Unnamed (Vertical Line)
      <div id="u65" class="ax_default line">
        <img id="u65_img" class="img " src="images/patient_main_view/u40.png"/>
      </div> -->

      <!-- Unnamed (Vertical Line)
      <div id="u66" class="ax_default line">
        <img id="u66_img" class="img " src="images/patient_main_view/u40.png"/>
      </div> -->

      <!-- Unnamed (Rectangle)
      <div id="u67" class="ax_default heading_1">
        <div id="u67_div" class=""></div>
        <div id="u67_text" class="text ">
          <p><span>14.15</span></p>
        </div>
      </div> -->

      <!-- Unnamed (Rectangle)
      <div id="u68" class="ax_default heading_1">
        <div id="u68_div" class=""></div>
        <div id="u68_text" class="text ">
          <p><span>50 </span></p>
        </div>
      </div> -->

      <!-- Unnamed (Shape)
      <div id="u69" class="ax_default euro-sign">
        <img id="u69_img" class="img " src="images/patient_main_view/u59.png"/>
      </div> -->

      <!-- Unnamed (Rectangle)
      <div id="u70" class="ax_default button">
        <div id="u70_div" class=""></div>
        <div id="u70_text" class="text ">
          <p><span>&nbsp;&nbsp;&nbsp; VALI</span></p>
        </div>
      </div> -->

      <!-- Unnamed (Vertical Line)
      <div id="u71" class="ax_default line">
        <img id="u71_img" class="img " src="images/patient_main_view/u40.png"/>
      </div> -->

      <!-- Unnamed (Horizontal Line)
      <div id="u72" class="ax_default arrow">
        <img id="u72_img" class="img " src="images/patient_main_view/u61.png"/>
      </div> -->

      <!-- Unnamed (Image)
      <div id="u73" class="ax_default image">
        <img id="u73_img" class="img " src="images/patient_main_view/u73.jpg"/>
      </div>
    </div> -->
    <script>
        $( document ).ready(function() {
            giveMeAllAppointments();
        });

        function giveMeAllAppointments() {
            $.ajax(
                {
                    method: "GET",
                    url: "http://arstiaeg.aws.est.sise:8080/ajahaldus-rest-fhir/graafik/searchSlot?",
                    dataType: "json",
                    contentType: "application/json",
                    complete: function (response) {
                        if (response.status == '401') {
                            console.log("Unable to get response")
                        }
                        $('#appointment_list').empty();
                        var appointments = JSON.parse(response.responseText);
                        appointments = appointments.slottList;
                        for (var i = 0; i < appointments.length; i++) {
                            var row = "<tr>";
                            row = row + "<td>" + appointments[i].asutusNimi  + "</td>";
                            row = row + "<td>" + appointments[i].medTootajaNimi +  "</td>";
                            row = row + "<td>" + appointments[i].start + "</td>";
                            row = row + "<td>" + "50" + "</td>";
                            row = row + '<td><button class="btn btn-sm">Vali</button>&nbsp;</button></td>';
                            row = row + "</tr>";
                            $('#appointment_list').append(row);
                            console.log(row);
                        }
                    }
                }
            );
        }

    </script>
  </body>
</html>
